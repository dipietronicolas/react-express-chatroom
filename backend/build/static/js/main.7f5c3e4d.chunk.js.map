{"version":3,"sources":["context/SocketContext.js","components/UsernameList/UsernameList.js","components/SendPicture/SendPicture.js","components/InputContainer/InputContainer.js","components/PictureTag/PictureTag.js","components/PicturePeview/PicturePeview.js","components/MessagesContainer/MessagesContainer.js","context/UserContext.js","components/UserProfile/UserProfile.js","components/ChatRoom/ChatRoom.js","components/ChatRoomContainer/ChatRoomContainer.js","components/Home/Home.js","App.js","reportWebVitals.js","index.js"],"names":["socket","socketIOClient","SocketContext","React","createContext","SocketProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","usernames","setUsernames","_useState3","_useState4","message","setMessage","useEffect","on","data","react_default","a","createElement","Provider","value","newUser","name","emit","sendMessage","msg","type","updateUser","sendPicture","picture","useStyles","makeStyles","theme","root","padding","width","maxWidth","UsernameList","classes","useContext","className","List","component","aria-label","length","map","username","index","ListItem","button","key","ListItemText","primary","Divider","SendPicture","handleSetPicture","pictureRef","useRef","errMsg","setErrMsg","ref","accept","onChange","e","target","files","size","_URL","window","URL","webkitURL","img","Image","src","createObjectURL","onload","this","height","onerror","alert","document","querySelector","style","color","setTimeout","opacity","current","display","onClick","click","InputContainer","handleInputContainer","inputRef","onSubmit","preventDefault","focus","maxLength","minLength","autoFocus","PictureTag","handleSendPicture","picURL","picType","fondo","setFondo","x_firstPosition","setX_firstPosition","_useState5","_useState6","y_firstPosition","setY_firstPosition","_useState7","_useState8","x_secondPosition","setX_secondPosition","_useState9","_useState10","y_secondPosition","setY_secondPosition","_useState11","_useState12","box_width","setBox_width","_useState13","_useState14","box_height","setBox_height","_useState15","_useState16","box_amount","setBox_amount","_useState17","_useState18","selection_flag","setSelection_flag","_useState19","_useState20","startRenderSquare","setStartRenderSquare","console","log","tagSelection","div","getElementById","concat","input","top","left","autofocus","classList","add","id","appendChild","Fragment","alt","onMouseDown","nativeEvent","layerX","layerY","clientWidth","clientHeight","onMouseMove","square","remove","ladoX","ladoY","right","bottom","onMouseUp","PicturePeview","setPicURL","setPicType","imageUrl","PictureTag_PictureTag_PictureTag","MessagesContainer","_useContext","setPicture","pic","renderChat","chat","firstChild","innerHTML","arrayBufferView","Uint8Array","blob","Blob","arrayBufferToPic","user_profile","toggle","contains","lib","scrollToBottom","autoHide","autoHideTimeout","autoHideDuration","PicturePeview_PicturePeview_PicturePeview","SendPicture_SendPicture_SendPicture","InputContainer_InputContainer_InputContainer","UserContext","UserProvider","setUsername","addUsername","new_name","callback","includes","UserProfile","showEditName","setShowEditName","errorMsg","setErrorMsg","handleCancelButton","ChatRoom","UsernameList_UsernameList_UsernameList","MessagesContainer_MessagesContainer_MessagesContainer","UserProfile_UserProfile_UserProfile","ChatRoomContainer","ChatRoom_ChatRoom_ChatRoom","spacing","Home","TextField","label","Button","variant","App","ChatRoomContainer_ChatRoomContainer_ChatRoomContainer","Home_Home_Home","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","SocketContext_SocketProvider","UserContext_UserProvider","src_App"],"mappings":"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","file":"static/js/main.7f5c3e4d.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nconst ENDPOINT = \"http://127.0.0.1:4001\";\r\nconst socket = socketIOClient(ENDPOINT);\r\n/*\r\nconst socket = socketIOClient('/', {\r\n  transports: ['websocket'],\r\n  path: '/socket', // added this line of code\r\n});\r\n*/\r\nexport const SocketContext = React.createContext();\r\n\r\nexport const SocketProvider = ({ children }) => {\r\n\r\n  const [usernames, setUsernames] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"usernames\", data => {\r\n      setUsernames(data);\r\n    });\r\n  }, []);\r\n\r\n  const newUser = (name) => {\r\n    socket.emit('new_user', name);\r\n    socket.on(\"usernames\", data => {\r\n      setUsernames(data);\r\n    });\r\n  }\r\n\r\n  const updateUser = (name) => {\r\n    socket.emit('update_user', name);\r\n    socket.on(\"usernames\", data => {\r\n      setUsernames(data);\r\n    });\r\n  }\r\n\r\n  const sendMessage = (message) => {\r\n    socket.emit('send_message', {\r\n      msg: message,\r\n      type: \"text\"\r\n    });\r\n\r\n    socket.on('send_msg', (msg) => {\r\n      setMessage(msg);\r\n    })\r\n  }\r\n\r\n  const sendPicture = (message) => {\r\n    socket.emit('send_message', {\r\n      msg: message.picture,\r\n      type: message.type === 'higher' ? \"higher_picture\" : \"wider_picture\"\r\n    });\r\n    socket.on('send_msg', (msg) => {\r\n      setMessage(msg);\r\n    })\r\n  }\r\n\r\n  return (\r\n    <SocketContext.Provider\r\n      value={{\r\n        usernames,\r\n        newUser,\r\n        sendMessage,\r\n        updateUser,\r\n        sendPicture,\r\n        message\r\n      }}>\r\n      { children}\r\n    </SocketContext.Provider>\r\n  )\r\n}","import React, { useContext } from 'react';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport './UsernameList.css';\r\n// Material UI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding:0,\r\n    width: '100%',\r\n    maxWidth: 360,\r\n  },\r\n}));\r\n\r\nexport const UsernameList = () => {\r\n\r\n  const classes = useStyles();\r\n  const { usernames } = useContext(SocketContext);\r\n\r\n  return (\r\n    <div className=\"Chatroom-username-container\">\r\n      <div className=\"Chatroom-username\">\r\n        <p className=\"Chatroom-username-title\">Users list</p>\r\n\r\n        <List component=\"nav\" className={classes.root} aria-label=\"mailbox folders\">\r\n          {\r\n            usernames.length > 0 &&\r\n            usernames.map((username, index) => {\r\n              return (\r\n                <ListItem button key={index}>\r\n                  <i className=\"fas fa-user-circle Chatroom-username-icon\"></i>\r\n                  <ListItemText primary={username} />\r\n                  <Divider />\r\n                </ListItem>\r\n              )\r\n            })\r\n          }\r\n        </List>\r\n\r\n        {/** \r\n        <div className=\"Chatroom-username-list\">\r\n          {\r\n            usernames.length > 0 &&\r\n            usernames.map((username, index) => {\r\n              return (\r\n                <p key={index} className=\"Chatroom-username-name\">\r\n                  <i className=\"fas fa-user-circle Chatroom-username-icon\"></i>\r\n                  {username}\r\n                </p>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n        */}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useRef } from 'react';\r\nimport './SendPicture.css';\r\n\r\nexport const SendPicture = ({ handleSetPicture }) => {\r\n\r\n  const pictureRef = useRef(null);\r\n  const [errMsg, setErrMsg] = useState(null);\r\n  const handleFileUpload = () => {\r\n    pictureRef.current.click();\r\n  }\r\n\r\n  // Llevo la imagen por props al componente padre\r\n  const handleChange = (e) => {\r\n    //console.log(e.target.files[0]);\r\n    if (e.target.files[0] && e.target.files[0].size < 999999) {\r\n      let picture = e.target.files[0];\r\n      \r\n      // Obtengo height y width de la imagen.\r\n      let _URL = window.URL || window.webkitURL;\r\n      let img = new Image();\r\n      img.src = _URL.createObjectURL(e.target.files[0]);\r\n      img.onload = function () {\r\n        if (this.height > this.width) {\r\n          handleSetPicture({\r\n            picture,\r\n            type: 'higher'\r\n          });\r\n        } else {\r\n          handleSetPicture({\r\n            picture,\r\n            type: 'wider'\r\n          });\r\n        }\r\n      };\r\n      img.onerror = function () {\r\n        alert(\"not a valid file\");\r\n      };\r\n      //Termino el manejo de la imagen\r\n\r\n      const button = document.querySelector('.SendPicture-upload-button');\r\n      button.style.color = \"green\";\r\n    } else {\r\n      // Si la imagen es mayor a 1 mega no la sube y muestra un error.\r\n      setErrMsg(\"Image max size must be 1 MB\");\r\n      setTimeout(() => {\r\n        const alert = document.querySelector('.alert-err');\r\n        alert.style.opacity = 0;\r\n        setTimeout(() => {\r\n          setErrMsg(null);\r\n        }, 500)\r\n      }, 7000)\r\n    }\r\n    pictureRef.current.value = null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"SendPictureContainer\">\r\n      <input\r\n        ref={pictureRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        className=\"SendPicture-upload\"\r\n        onChange={handleChange}\r\n        style={{ display: \"none\" }}>\r\n      </input>\r\n\r\n      <button\r\n        onClick={handleFileUpload}\r\n        className=\"SendPicture-upload-button\">\r\n        <i className=\"fas fa-image\"></i>\r\n        <p className=\"SendPicture-upload-text\">Upload picture</p>\r\n\r\n      </button>\r\n      {\r\n        errMsg && <div className=\"alert-err\">{errMsg}</div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useRef } from 'react';\r\nimport './InputContainer.css';\r\n\r\nexport const InputContainer = ({ handleInputContainer }) => {\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    inputRef.current.value &&\r\n      handleInputContainer(inputRef.current.value);\r\n    inputRef.current.value = '';\r\n    document.querySelector('.Chatroom-input').focus();\r\n  }\r\n\r\n  return (\r\n    <div className=\"Chatroom-input-container\">\r\n      <form className=\"Chatroom-form\" onSubmit={handleSubmit}>\r\n        <input\r\n          ref={inputRef}\r\n          className=\"Chatroom-input\"\r\n          type=\"text\"\r\n          maxLength=\"80\"\r\n          minLength=\"1\"\r\n          name=\"message\"\r\n          autoFocus />\r\n        <button\r\n          className=\"Chatroom-send-btn\">Send</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport './PictureTag.css';\r\n\r\nexport const PictureTag = ({ handleSendPicture, picURL, picType }) => {\r\n\r\n  const [fondo, setFondo] = useState(null);\r\n  const [x_firstPosition, setX_firstPosition] = useState(0);\r\n  const [y_firstPosition, setY_firstPosition] = useState(0);\r\n  const [x_secondPosition, setX_secondPosition] = useState(0);\r\n  const [y_secondPosition, setY_secondPosition] = useState(0);\r\n  const [box_width, setBox_width] = useState(0);\r\n  const [box_height, setBox_height] = useState(0);\r\n  const [box_amount, setBox_amount] = useState(0);\r\n  const [selection_flag, setSelection_flag] = useState(true);\r\n  const [startRenderSquare, setStartRenderSquare] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    console.log(\"re-render\");\r\n  })\r\n\r\n  useEffect(() => {\r\n    setFondo(document.querySelector('.selection-container'));\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n\r\n  }, [fondo])\r\n\r\n  const mouseDownListener = (e) => {\r\n    if (selection_flag) {\r\n      console.log(\"mousedown\");\r\n      console.log(e);\r\n      setX_firstPosition(e.nativeEvent.layerX);\r\n      setY_firstPosition(e.nativeEvent.layerY);\r\n      setBox_width(e.target.clientWidth);\r\n      setBox_height(e.target.clientHeight);\r\n      setBox_amount(box_amount + 1);\r\n      setStartRenderSquare(true);\r\n    }\r\n  }\r\n\r\n  const mouseUpListener = (e) => {\r\n    console.log(\"mouseUp\");\r\n    setStartRenderSquare(false);\r\n    if ((document.querySelector('.test')) && (selection_flag === true)) {\r\n      tagSelection();\r\n    }\r\n  }\r\n\r\n  const tagSelection = () => {\r\n    console.log(\"tagSelection\");\r\n    const div = document.getElementById(`selection#0${box_amount}`);\r\n    if (div) {\r\n      let input = document.createElement('input');\r\n      console.log(`\r\n        div.style.height = ${div.style.height}\r\n        div.style.width = ${div.style.width}\r\n        div.style.top = ${div.style.top}\r\n        div.style.left = ${div.style.left}\r\n      `);\r\n\r\n\r\n\r\n      input.type = \"text\";\r\n      input.autofocus = true;\r\n      input.classList.add('tag-input');\r\n      input.id = `input#0${box_amount}`\r\n      div.classList.add('test-with-tag');\r\n      div.appendChild(input);\r\n      setSelection_flag(false);\r\n    }\r\n  }\r\n\r\n  const acceptButtonHandler = () => {\r\n    let input = document.getElementById(`input#0${box_amount}`);\r\n    if (input) {\r\n      input.classList.add('test-finished');\r\n    }\r\n    setSelection_flag(true);\r\n  }\r\n\r\n  const deleteButtonHandler = () => {\r\n    const square = document.getElementById(`selection#0${box_amount}`);\r\n    console.log(box_amount);\r\n    if (square) {\r\n      square.remove();\r\n    }\r\n    if(box_amount > 0) {\r\n      setBox_amount(box_amount - 1);\r\n    }\r\n  }\r\n\r\n  const renderSquare = (e) => {\r\n    if (startRenderSquare) {\r\n      setX_secondPosition(e.nativeEvent.layerX);\r\n      setY_secondPosition(e.nativeEvent.layerY);\r\n\r\n      const square = document.getElementById(`selection#0${box_amount}`);\r\n      if (square) {\r\n        square.remove();\r\n      }\r\n\r\n      let div = document.createElement('div');\r\n      div.classList.add('test');\r\n      div.id = `selection#0${box_amount}`;\r\n\r\n      if ((x_secondPosition - x_firstPosition >= 0) && (y_secondPosition - y_firstPosition >= 0)) {\r\n        const ladoX = x_secondPosition - x_firstPosition;\r\n        const ladoY = y_secondPosition - y_firstPosition;\r\n        div.style.height = `${ladoY}px`;\r\n        div.style.width = `${ladoX}px`;\r\n        div.style.top = `${y_firstPosition}px`;\r\n        div.style.left = `${x_firstPosition}px`;\r\n        console.log(`\r\n          recA\r\n          ladoX = ${ladoX}\r\n          ladoY = ${ladoY}\r\n        `);\r\n      } else if ((x_secondPosition - x_firstPosition <= 0) && (y_secondPosition - y_firstPosition >= 0)) {\r\n        const ladoX = x_firstPosition - x_secondPosition;\r\n        const ladoY = y_secondPosition - y_firstPosition;\r\n        div.style.height = `${ladoY}px`;\r\n        div.style.width = `${ladoX}px`;\r\n        div.style.top = `${y_firstPosition}px`;\r\n        div.style.right = `${box_width - x_firstPosition}px`;\r\n        console.log(`\r\n          recB\r\n          ladoX = ${ladoX}\r\n          ladoY = ${ladoY}\r\n        `);\r\n      } else if ((x_secondPosition - x_firstPosition >= 0) && (y_firstPosition - y_secondPosition >= 0)) {\r\n        const ladoX = x_secondPosition - x_firstPosition;\r\n        const ladoY = y_firstPosition - y_secondPosition;\r\n        div.style.height = `${ladoY}px`;\r\n        div.style.width = `${ladoX}px`;\r\n        div.style.bottom = `${box_height - y_firstPosition}px`;\r\n        div.style.left = `${x_firstPosition}px`;\r\n        console.log(`\r\n          recC\r\n          ladoX = ${ladoX}\r\n          ladoY = ${ladoY}\r\n        `);\r\n      } else if ((x_secondPosition - x_firstPosition <= 0) && (y_firstPosition - y_secondPosition >= 0)) {\r\n        const ladoX = x_firstPosition - x_secondPosition;\r\n        const ladoY = y_firstPosition - y_secondPosition;\r\n        div.style.height = `${ladoY}px`;\r\n        div.style.width = `${ladoX}px`;\r\n        div.style.bottom = `${box_height - y_firstPosition}px`;\r\n        div.style.right = `${box_width - x_firstPosition}px`;\r\n        console.log(`\r\n          recD\r\n          ladoX = ${ladoX}\r\n          ladoY = ${ladoY}\r\n\r\n          x_secondPosition = ${x_secondPosition}\r\n          y_secondPosition = ${y_secondPosition}\r\n        `);\r\n\r\n      }\r\n      fondo.appendChild(div);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"PictureTag\">\r\n        <img\r\n          src={picURL}\r\n          alt=\"picPreview\"\r\n          className={picType === 'higher' ? 'PicturePreview-img-typeA' : 'PicturePreview-img-typeB'} />\r\n        <div\r\n          onMouseDown={mouseDownListener}\r\n          onMouseMove={renderSquare}\r\n          onMouseUp={mouseUpListener}\r\n          className=\"selection-container\"></div>\r\n      </div>\r\n      <div className=\"PicturePreview-buttons-container\">\r\n        <button\r\n          className=\"PicturePreview-button PicturePreview-accept\"\r\n          onClick={acceptButtonHandler}>\r\n          <i className=\"fas fa-check\"></i>\r\n          <p className=\"PicturePreview-send-button-text PicturePreview-accept\">Accept tag</p>\r\n        </button>\r\n        <button\r\n          className=\"PicturePreview-button PicturePreview-delete\"\r\n          onClick={deleteButtonHandler}>\r\n          <i className=\"far fa-times-circle\"></i>\r\n          <p className=\"PicturePreview-send-button-text PicturePreview-delete\">Delete last tag</p>\r\n        </button>\r\n        <button\r\n          onClick={handleSendPicture}\r\n          className=\"PicturePreview-button PicturePreview-send\">\r\n          <i className=\"fas fa-file-import\"></i>\r\n          <p className=\"PicturePreview-send-button-text PicturePreview-send\">Send picture</p>\r\n        </button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { PictureTag } from '../PictureTag/PictureTag';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport './PicturePeview.css';\r\n\r\nexport const PicturePeview = ({ picture, type, handleSetPicture }) => {\r\n\r\n  const { sendPicture } = useContext(SocketContext);\r\n  const [picURL, setPicURL] = useState(null);\r\n  const [picType, setPicType] = useState(null);\r\n  // eslint-disable-next-line\r\n  const [acceptButtonFunction, setAcceptButtonFunction] = useState(null);\r\n\r\n  // Genero una url de la imagen que llega para insertar en <img>\r\n  useEffect(() => {\r\n    const urlCreator = window.URL || window.webkitURL;\r\n    const imageUrl = urlCreator.createObjectURL(picture);\r\n    setPicURL(imageUrl);\r\n    setPicType(type);\r\n  }, [picture])\r\n\r\n  // Envio la imagen al SocketContext que la envia al servidor\r\n  // eslint-disable-next-line\r\n  const handleSendPicture = () => {\r\n    if (picURL) {\r\n      sendPicture({\r\n        picture,\r\n        type\r\n      });\r\n      handleSetPicture(null);\r\n      const button = document.querySelector('.SendPicture-upload-button');\r\n      button.style.color = \"rgb(150,150,150)\";\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"PicturePreview-container\">\r\n      <h2 className=\"PicturePreview-title\">Click to draw a square and tag people</h2>\r\n      {\r\n        picture &&\r\n        <PictureTag\r\n          handleSendPicture={handleSendPicture}\r\n          picURL={picURL}\r\n          picType={picType} />\r\n\r\n      }\r\n      {/** \r\n      <div className=\"PicturePreview-buttons-container\">\r\n        <button\r\n          className=\"PicturePreview-button PicturePreview-accept\">\r\n          <i className=\"fas fa-check\"></i>\r\n          <p className=\"PicturePreview-send-button-text PicturePreview-accept\">Accept tag</p>\r\n        </button>\r\n        <button\r\n          className=\"PicturePreview-button PicturePreview-delete\">\r\n          <i className=\"far fa-times-circle\"></i>\r\n          <p className=\"PicturePreview-send-button-text PicturePreview-delete\">Delete last tag</p>\r\n        </button>\r\n        <button\r\n          onClick={handleSendPicture}\r\n          className=\"PicturePreview-button PicturePreview-send\">\r\n          <i className=\"fas fa-file-import\"></i>\r\n          <p className=\"PicturePreview-send-button-text PicturePreview-send\">Send picture</p>\r\n        </button>\r\n      </div>\r\n      */}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { SendPicture } from '../SendPicture/SendPicture';\r\nimport { InputContainer } from '../InputContainer/InputContainer';\r\nimport { SocketContext } from '../../context/SocketContext';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport { PicturePeview } from '../PicturePeview/PicturePeview';\r\nimport './MessagesContainer.css';\r\n\r\n\r\nexport const MessagesContainer = () => {\r\n\r\n  const { sendMessage, message } = useContext(SocketContext);\r\n  const [picture, setPicture] = useState(null);\r\n\r\n  const handleSetPicture = (pic) => {\r\n    setPicture(pic);\r\n  }\r\n\r\n  // Envio el mensaje que escribe el cliente al SocketContext\r\n  // que se encarga de enviarlo al servidor.\r\n  const handleInputContainer = (msg) => {\r\n    sendMessage(msg);\r\n  }\r\n\r\n  // Posiciono el scroll abajo en cada mensaje enviado\r\n  const handleScroll = (e) => {\r\n    if (e) {\r\n      setTimeout(() => {\r\n        e.scrollToBottom();\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n  // Manejo el boton Settings del modo tablet\r\n  const showProfileSettings = () => {\r\n    const user_profile = document.querySelector('.UserProfile-container');\r\n    user_profile.classList.toggle('UserProfile-show');\r\n    if (!user_profile.classList.contains('UserProfile-show')) {\r\n      document.querySelector('.Chatroom-input').focus();\r\n    }\r\n  }\r\n\r\n  //Convierte la imagen ArrayBuffer a img\r\n  const arrayBufferToPic = ({ msg, type }) => {\r\n    const arrayBufferView = new Uint8Array(msg);\r\n    const blob = new Blob([arrayBufferView], { type: \"image/jpeg\" });\r\n    const urlCreator = window.URL || window.webkitURL;\r\n    const imageUrl = urlCreator.createObjectURL(blob);\r\n    return `\r\n      <img class=${type === \"higher_picture\"\r\n        ? \"Chatroom-chat-img-container-typeHigher\"\r\n        : \"Chatroom-chat-img-container-typeWider\"\r\n      } \r\n        src=${imageUrl} alt=\"picsend\"/>\r\n    `;\r\n  }\r\n\r\n  // Renderiza los chats que llegan\r\n  const renderChat = () => {\r\n    if (message) {\r\n      const chat = document.querySelector('.Chatroom-chat').firstChild.firstChild;\r\n      if (message.type === \"text\") {\r\n        chat.innerHTML += `\r\n        <div class=\"Chatroom-chat-name-message\">\r\n          <div class=\"Chatroom-chat-name-container\" style=\"color: ${message.color}\">${message.username}</div>\r\n          <div class=\"Chatroom-chat-message-container\">${message.msg}</div>\r\n        </div>\r\n        `;\r\n      } else {\r\n        chat.innerHTML += `\r\n        <div class=\"Chatroom-chat-name-message\">\r\n          <div class=\"Chatroom-chat-name-container\" style=\"color: ${message.color}\">${message.username}</div>\r\n          ${arrayBufferToPic(message)}\r\n        </div>\r\n        `;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Llama a la funcion que renderiza los mensajes cada vez que llegan\r\n  useEffect(() => {\r\n    renderChat();\r\n  }, [message])\r\n\r\n  return (\r\n    <div className=\"Chatroom-message\">\r\n      <button\r\n        onClick={showProfileSettings}\r\n        className=\"Userprofile-show-button\">Settings</button>\r\n\r\n      <div className=\"Chatroom-chat\">\r\n        <Scrollbars\r\n          ref={(handleScroll)}\r\n          autoHide\r\n          autoHideTimeout={1500}\r\n          autoHideDuration={500}>\r\n\r\n        </Scrollbars>\r\n        {\r\n          picture &&\r\n          <PicturePeview\r\n            picture={picture.picture}\r\n            type={picture.type}\r\n            handleSetPicture={handleSetPicture} />\r\n        }\r\n      </div>\r\n      <SendPicture handleSetPicture={handleSetPicture} />\r\n      <InputContainer handleInputContainer={handleInputContainer} />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useContext } from 'react';\r\nimport { SocketContext } from '../context/SocketContext';\r\nexport const UserContext = React.createContext();\r\n\r\nexport const UserProvider = ({ children }) => {\r\n\r\n  const { usernames } = useContext(SocketContext);\r\n  const [username, setUsername] = useState('');\r\n\r\n  const addUsername = (new_name, callback) => {\r\n    if (usernames.includes(new_name)) {\r\n      callback(false);\r\n      console.log(\"No esta disponible\");\r\n    } else {\r\n      setUsername(new_name);\r\n      callback(true);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        username,\r\n        addUsername\r\n      }}>\r\n      { children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import React, { useState, useContext, useRef } from 'react';\r\nimport { UserContext } from '../../context/UserContext';\r\nimport { SocketContext } from '../../context/SocketContext';\r\n// CSS\r\nimport './UserProfile.css';\r\n// Font Awesome\r\nimport '@fortawesome/fontawesome-free/js/all.js';\r\n\r\nexport const UserProfile = () => {\r\n\r\n  const inputRef = useRef(null);\r\n  const { username, addUsername } = useContext(UserContext);\r\n  const { updateUser } = useContext(SocketContext);\r\n  const [showEditName, setShowEditName] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState('');\r\n\r\n\r\n  const changeUsername = (e) => {\r\n    e.preventDefault();\r\n    if (inputRef.current.value) {\r\n      addUsername(inputRef.current.value, (callback) => {\r\n        if (callback) {\r\n          updateUser(inputRef.current.value);\r\n        } else {\r\n          setErrorMsg('Username not available')\r\n        }\r\n      });\r\n      handleCancelButton();\r\n    }\r\n  }\r\n\r\n  const handleEditName = () => {\r\n    setErrorMsg(null);\r\n    setShowEditName(true);\r\n    const edit_button = document.querySelector('.UserProfile-edit-button');\r\n    edit_button.style.display = \"none\";\r\n  }\r\n\r\n  const handleCancelButton = () => {\r\n    setShowEditName(false);\r\n    const edit_button = document.querySelector('.UserProfile-edit-button');\r\n    edit_button.style.display = \"block\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"UserProfile-container\">\r\n      <div className=\"UserProfile\">\r\n        <div className=\"UserProfile-username-container\">\r\n          <div className=\"UserProfile-img-container\">\r\n            <i className=\"far fa-user-circle\"></i>\r\n          </div>\r\n          <div className=\"UserProfile-edit\">\r\n            {\r\n              showEditName\r\n                ?\r\n                <div className=\"UserProfile-editInputContainer\">\r\n                  <form onSubmit={changeUsername}>\r\n                    <input\r\n                      className=\"UserProfile-edit-input\"\r\n                      type=\"text\"\r\n                      ref={inputRef}\r\n                      maxLength=\"30\"\r\n                      minLength=\"2\"\r\n                      autoFocus>\r\n                    </input>\r\n                    <button\r\n                      className=\"UserProfile-edit-input-button\">\r\n                      <i className=\"fas fa-check\"></i>\r\n                    </button>\r\n                  </form>\r\n                  <button\r\n                    onClick={handleCancelButton}\r\n                    className=\"UserProfile-edit-input-cancel-button\">\r\n                    <i className=\"fas fa-times\"></i>\r\n                  </button>\r\n                </div>\r\n                :\r\n                <p className=\"UserProfile-username\">{username}</p>\r\n\r\n            }\r\n            <button\r\n              className=\"UserProfile-edit-button\"\r\n              onClick={handleEditName}>\r\n              <i className=\"fas fa-edit\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {\r\n          errorMsg && <div className=\"alert\">{errorMsg}</div>\r\n        }\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { UsernameList } from '../UsernameList/UsernameList';\r\nimport { MessagesContainer } from '../MessagesContainer/MessagesContainer';\r\nimport { UserProfile } from '../UserProfile/UserProfile';\r\nimport './ChatRoom.css';\r\n\r\nexport const ChatRoom = () => {\r\n  return (\r\n    <div className=\"Chatroom\">\r\n      <UsernameList />\r\n      <MessagesContainer />\r\n      <UserProfile />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport './ChatRoomContainer.css';\r\nimport { ChatRoom } from  '../ChatRoom/ChatRoom';\r\n\r\nexport const ChatRoomContainer = () => {\r\n  return (\r\n    <div className=\"Chatroom-container\">\r\n      <ChatRoom />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useContext, useRef } from 'react';\r\nimport { UserContext } from '../../context/UserContext';\r\nimport { SocketContext } from '../../context/SocketContext';\r\n// CSS\r\nimport './Home.css';\r\n// Material UI\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    padding: theme.spacing(2)\r\n  },\r\n}));\r\n\r\nexport const Home = () => {\r\n\r\n  const { addUsername } = useContext(UserContext);\r\n  const { newUser } = useContext(SocketContext);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  const classes = useStyles();\r\n\r\n  let inputRef = useRef(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (inputRef.current.value) {\r\n      addUsername(inputRef.current.value, (callback) => {\r\n        if (callback) {\r\n          newUser(inputRef.current.value);\r\n        } else {\r\n          setErrorMsg('Username not available')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"Home\">\r\n      <form className=\"Home-form\" onSubmit={handleSubmit}>\r\n        <div className=\"Home-title-coontainer\">\r\n          <h2>WELLCOME TO FANTASTIC CHAT!</h2>\r\n          <p>Type your username</p>\r\n\r\n        </div>\r\n        {\r\n          errorMsg && <div className=\"alert-error\">{errorMsg}</div>\r\n        }\r\n        <TextField \r\n          id=\"standard-basic\" \r\n          label=\"Username\" \r\n          inputRef={inputRef}\r\n          autoFocus/>\r\n        {/** \r\n        <input\r\n          ref={inputRef}\r\n          name=\"username\"\r\n          className=\"Home-input\"\r\n          type=\"text\"\r\n          maxLength=\"30\"\r\n          minLength=\"2\"\r\n          autoFocus />\r\n          */}\r\n        {/**\r\n        <button\r\n          className=\"Home-submit-button\"\r\n          type=\"submit\">CONFIRM</button>\r\n           */}\r\n        <Button \r\n          type=\"submit\"\r\n          className={classes.button}\r\n          variant=\"contained\" \r\n          color=\"primary\">\r\n          CONFIRM\r\n        </Button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","import './App.css';\r\nimport React, { useContext } from \"react\";\r\nimport { ChatRoomContainer } from './components/ChatRoomContainer/ChatRoomContainer';\r\nimport { Home } from './components/Home/Home';\r\nimport { UserContext } from './context/UserContext';\r\n\r\nfunction App() {\r\n\r\n  const { username } = useContext(UserContext);\r\n  return (\r\n    <div className=\"App\">\r\n        {\r\n          username\r\n          ? <ChatRoomContainer />\r\n          : <Home />\r\n        }\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { UserProvider } from './context/UserContext';\nimport { SocketProvider } from './context/SocketContext';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <SocketProvider>\n        <UserProvider>\n          <App />\n        </UserProvider>\n    </SocketProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}